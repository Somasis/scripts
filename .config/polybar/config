# kak: filetype=ini

[settings]
    screenchange-reload = true
    pseudo-transparency = false

[bar/default]
    monitor = eDP-1
    dpi = 192

    width = 100%
    height = 64
    fixed-center = true

    background = #2f343f
    foreground = #ffffff

    module-margin-left = 8
    margin-top = 64

    wm-restack = bspwm

    modules-left = bspwm title
    modules-center = custom-time
    modules-right = mpd-tail next-event article-count mail-count battery

    font-0 = "forkawesome:style=regular:size=11;3"
    font-1 = "forkawesome:style=solid:size=11;3"
    font-2 = "IBM Plex Sans:style=regular:size=11;3"
    font-3 = "IBM Plex Sans:style=bold:size=11;3"
    font-4 = "IBM Plex Sans:style=black:size=11;3"
    font-5 = "IBM Plex Mono:style=regular:size=10;3"
    font-6 = "IBM Plex Mono:style=bold:size=10;3"
    font-7 = "Noto Color Emoji:style=regular:scale=10;3"
    font-8 = "Sans:style=regular:size=11;3"
    font-9 = "Noto Sans CJK JP:style=regular:size=11;3"

    tray-detatched = false
    tray-background = #2f343f
    tray-position = right
    tray-padding = 4
    tray-maxsize = 32

[module/battery]
    type = internal/battery

    battery = BAT1
    adapter = ACAD

    full-at = 95

    format-charging = <animation-charging>
    format-discharging = <ramp-capacity>
    format-full = <ramp-capacity>

    ramp-capacity-0 = 
    ramp-capacity-1 = 
    ramp-capacity-2 = 
    ramp-capacity-3 = 
    ramp-capacity-4 = 

    animation-charging-0 = 
    animation-charging-1 = 
    animation-charging-2 = 
    animation-charging-3 = 
    animation-charging-4 = 


[module/bspwm]
    type = internal/bspwm
    enable-scroll = true

    ws-icon-0 = "1"
    ws-icon-1 = "2"
    ws-icon-2 = "3"
    ws-icon-3 = "4"
    ws-icon-4 = "5"

    format-padding = 0
    format = "<label-state> <label-mode> "
    label-monocle = 
    label-tiled = t
    label-fullscreen = 
    label-floating = 
    label-pseudotiled = t
    label-locked = 
    label-locked-foreground = #bd2c40
    label-sticky = 
    label-sticky-foreground = #fba922
    label-private = 
    label-private-foreground = #bd2c40

    label-focused-background = #5294e2

[module/custom-time]
    type = custom/script
    tail = true
    exec = polybar-clock

    format = <label>
    label = %output%
    label-font = 4

[module/next-event]
    type = custom/script
    exec = polybar-next-event eod --notstarted -a Calendar -a Classes -a "Violet & Kylie" -a Facebook | ellipsis 60
    interval = 60
    click-left = alacritty -e ikhal &

[module/mpd-tail]
    type = custom/script
    tail = true
    exec = polybar-mpd-tail | ellipsis 60
    enable-scroll = true
    click-left = mpc toggle
    click-middle = mpc stop
    click-right = mpc next
    scroll-up = mpc volume +5
    scroll-down = mpc volume -5

[module/article-count]
    type = custom/script
    exec = polybar-article-count
    interval = 60
    click-left = alacritty -e newsboat &

[module/mail-count]
    type = custom/script
    tail = true
    exec = polybar-mail-count
    # FIXME: this interval shouldn't be needed, does `polybar-mail-count` not react properly?
    interval = 900
    click-left = alacritty -e aerc &

[module/title]
    type = custom/script
    tail = true
    exec = xtitle -is -t 90
    click-right = bspc node -c
    enable-scroll = true
    scroll-up = bspc node -f prev.local
    scroll-down = bspc node -f next.local

    label-font = 7
